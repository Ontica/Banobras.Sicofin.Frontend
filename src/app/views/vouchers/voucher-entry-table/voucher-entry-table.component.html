<div class="fill-table-container">

  <table mat-table [dataSource]="dataSource">

    <ng-container matColumnDef="accountNumber">
      <th mat-header-cell *matHeaderCellDef class="nowrap"> No. cuenta / Auxiliar</th>
      <td mat-cell *matCellDef="let row" class="nowrap">{{ row.accountNumber }}</td>
    </ng-container>

    <ng-container matColumnDef="sector">
      <th mat-header-cell *matHeaderCellDef> Sec </th>
      <td mat-cell *matCellDef="let row">{{ row.sector }}</td>
    </ng-container>

    <ng-container matColumnDef="accountName">
      <th mat-header-cell *matHeaderCellDef class="nowrap"> Descripción / Concepto </th>
      <td mat-cell *matCellDef="let row">{{ row.accountName }}</td>
    </ng-container>

    <ng-container matColumnDef="verificationNumber">
      <th mat-header-cell *matHeaderCellDef> Verif </th>
      <td mat-cell *matCellDef="let row">{{ row.verificationNumber }}</td>
    </ng-container>

    <ng-container matColumnDef="responsibilityArea">
      <th mat-header-cell *matHeaderCellDef> Área </th>
      <td mat-cell *matCellDef="let row">{{ row.responsibilityArea }}</td>
    </ng-container>

    <ng-container matColumnDef="currency">
      <th mat-header-cell *matHeaderCellDef> Moneda </th>
      <td mat-cell *matCellDef="let row" class="nowrap">{{ row.currency }}</td>
    </ng-container>

    <ng-container matColumnDef="exchangeRate">
      <th mat-header-cell *matHeaderCellDef class="text-align-right nowrap"> T. de cambio </th>
      <td mat-cell *matCellDef="let row" class="text-align-right nowrap">{{ row.exchangeRate | number : '1.6-6' }}</td>
    </ng-container>

    <ng-container matColumnDef="partial">
      <th mat-header-cell *matHeaderCellDef class="text-align-right"> Parcial </th>
      <td mat-cell *matCellDef="let row" class="text-align-right">{{ row.partial | number : '1.2-2' }}</td>
    </ng-container>

    <ng-container matColumnDef="debit">
      <th mat-header-cell *matHeaderCellDef class="text-align-right"> Debe </th>
      <td mat-cell *matCellDef="let row" class="text-align-right">{{ row.debit | number : '1.2-2' }}</td>
    </ng-container>

    <ng-container matColumnDef="credit">
      <th mat-header-cell *matHeaderCellDef class="text-align-right"> Haber </th>
      <td mat-cell *matCellDef="let row" class="text-align-right">{{ row.credit | number : '1.2-2' }}</td>
    </ng-container>

    <ng-container matColumnDef="actionDelete">
      <th mat-header-cell *matHeaderCellDef> </th>
      <td mat-cell *matCellDef="let row" class="column-action">

        <button mat-icon-button>
          <mat-icon title="Eliminar movimiento" (click)="onRemoveVoucherEntryClicked($event, row)">
            delete
          </mat-icon>
        </button>

      </td>
    </ng-container>

    <ng-container matColumnDef="notFoundMessage">
      <td mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length">
        A esta póliza no se le han asignado movimientos.
      </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <td mat-footer-cell *matFooterCellDef [attr.colspan]="displayedColumns.length" class="column-no-padding">

        <div fxLayout="row" fxLayoutAlign="end center" fxLayoutGap="0.5rem">
          <mat-icon [ngClass]="canReviewVoucher ? 'icon-warning' : 'icon-success'">info</mat-icon>
          <span>Estado</span>
          <div fxFlex></div>
          <span>
            {{canReviewVoucher ? 'La póliza NO esta balanceada.' : 'La póliza está balanceada correctamente.'}}
          </span>
          <button *ngIf="canReviewVoucher" class="btn-action"
            (click)="onReviewVoucherButtonClicked()">
            Analizar póliza
          </button>
        </div>

      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true;"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="onUpdateVoucherEntryClicked(row)"
      class="selectable-row" [ngClass]="{'item-type-total': row.itemType === 'TotalsEntry'}"></tr>
    <tr mat-footer-row *matFooterRowDef="['notFoundMessage']" class="text-not-found"
      [hidden]="dataSource.data.length > 0"></tr>
    <tr mat-footer-row *matFooterRowDef="['status']; sticky: true;"></tr>

  </table>

</div>
