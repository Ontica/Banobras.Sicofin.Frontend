
<div [style.height.%]="100" [empNgSpinnerHost]="spinner">

  <emp-ng-spinner #spinner [visible]="isLoadingContexts || isLoading">

  </emp-ng-spinner>

  <mat-tab-group>

    <mat-tab label="Usuario">

      <div fxLayout="column" fxFlexFill fxLayoutGap="0.75rem" fxLayoutGap.lt-md="0.75rem">

        <emp-ng-subject-editor fxFlex="none"
          [subject]="subject">

        </emp-ng-subject-editor>

        <div fxFlex="none">

          <div class="section-title"> Aplicaciones </div>

          <emp-ng-security-item-edition
            [itemsList]="subjectContextsList"
            [itemsForAddList]="contextsList"
            [canEdit]="canEdit"
            itemTypeName="AplicaciÃ³n"
            (securityItemEditionEvent)="onSubjectContextsEditionEvent($event)">

          </emp-ng-security-item-edition>

        </div>

      </div>

    </mat-tab>

    <mat-tab label="Roles">

      <emp-ng-security-item-edition
        [itemsList]="subjectRolesList"
        [itemsForFilterList]="subjectContextsList"
        [filterRequired]="true"
        [canEdit]="canEdit"
        [notFoundText]="isSubjectRolesExcecuted ? 'No se han definido roles.' : 'No se ha invocado la consulta.'"
        itemTypeName="Rol"
        (securityItemEditionEvent)="onSubjectRolesEditionEvent($event)">

      </emp-ng-security-item-edition>

    </mat-tab>

    <mat-tab label="Permisos">

      <emp-ng-security-item-edition
        [itemsList]="subjectFeaturesList"
        [itemsForFilterList]="subjectContextsList"
        [filterRequired]="true"
        [canEdit]="canEdit"
        [notFoundText]="isSubjectFeaturesExcecuted ? 'No se han definido permisos.' : 'No se ha invocado la consulta.'"
        itemTypeName="Permiso"
        (securityItemEditionEvent)="onSubjectFeaturesEditionEvent($event)">

      </emp-ng-security-item-edition>

    </mat-tab>

  </mat-tab-group>

</div>
