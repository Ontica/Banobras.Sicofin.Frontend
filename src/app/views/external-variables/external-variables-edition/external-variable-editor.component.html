<form [formGroup]="form" empNgFormKeyDownEnter autocomplete="off" class="form-section"
  [style.paddingBottom.px]="isSaved ? 0 : 4">

  <div class="fx-row-container fx-end fx-items-center" [style.marginRight.px]="isSaved ? 0 : 8">

    <div class="fx-item-size" style="--size: 160px">

      <input type="text" class="text-box" name="period"
        placeholder="Clave"
        formControlName="code"
        [class.invalid-control]="formHelper.isControlInvalid(form.controls.code)">

    </div>

    <div class="fx-item">

      <input type="text" class="text-box" name="period"
        placeholder="Nombre de la variable"
        formControlName="name"
        [class.invalid-control]="formHelper.isControlInvalid(form.controls.name)">

    </div>

    <div class="fx-item-none">

      <emp-ng-date-range-picker name="period"
        formControlName="period"
        [showError]="formHelper.isControlInvalid(form.controls.period)">

      </emp-ng-date-range-picker>

    </div>


    <button *ngIf="!isSaved" title="Agregar"
      [class.btn-icon-action]="canEdit && isFormValid"
      [class.btn-icon]="!canEdit || !isFormValid"
      (click)="onAddExternalVariableClicked()">

      <mat-icon> add </mat-icon>

    </button>


    <button *ngIf="isSaved" mat-icon-button
      title="Cancelar"
      (click)="onCancelEditionClicked()">

      <mat-icon> close </mat-icon>

    </button>


    <button *ngIf="isSaved"  mat-icon-button
      title="Guardar"
      [color]="isFormValid ? 'primary' : null"
      [style.marginRight]="0"
      (click)="onUpdateExternalVariableClicked()">

      <mat-icon [color]="isFormValid ? 'primary' : null"> done </mat-icon>

    </button>

  </div>

</form>
